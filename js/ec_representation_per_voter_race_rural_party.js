$(function(){
	Highcharts.setOptions({"lang": {}, "global": {}});
    var option = {"loading": {},
		      				"subtitle": {},
									"xAxis": {"title": {"text": "Percent of White Eligible Voters in State"}},
									"title": {"text": "Electoral College Representation By State Demographics"},
									"series": {},
									"labels": {},
									"yAxis": {"title": {"text": "Percent of State Population that is Rural"}},
									"chart": {"width": 650, "zoomType": "xy", "renderTo": "ec_representation_per_voter_race_rural_party", "height": 500},
									"tooltip": {"footerFormat": "</table>", "headerFormat": "<table>", "followPointer": true, "pointFormat": "<tr><th colspan=\"2\"><h3>{point.name}</h3></th></tr><tr><th>Percent White:</th><td>{point.x}%</td></tr><tr><th>Percent Rural:</th><td>{point.y}%</td></tr><tr><th>Number of Last 4 Elections That Voted Republican:</th><td>{point.r_wins_last4}/4</td></tr><tr><th>Electoral College Representation:</th><td>{point.z}%</td></tr>", "useHTML": true},
									"plotOptions": {},
									"credits": {"enabled": false},
									"colors": {},
									"pane": {},
									"exporting": {},
									"drilldown": {},
									"navigation": {},
									"legend": {}};

	var data = [{"name": "Electoral College Over/Under-Representation", "type": "bubble", "data": [{"r_wins_last4": 4, "name": "AL", "color": "rgba(223, 83, 83, .5)", "state": "Alabama", "y": 78.0, "x": 69.400000000000006, "z": 109.0}, {"r_wins_last4": 4, "name": "AK", "color": "rgba(223, 83, 83, .5)", "state": "Alaska", "y": 57.899999999999999, "x": 68.299999999999997, "z": 253.0}, {"r_wins_last4": 4, "name": "AZ", "color": "rgba(223, 83, 83, .5)", "state": "Arizona", "y": 29.600000000000001, "x": 63.399999999999999, "z": 102.0}, {"r_wins_last4": 4, "name": "AR", "color": "rgba(223, 83, 83, .5)", "state": "Arkansas", "y": 79.799999999999997, "x": 77.5, "z": 120.0}, {"r_wins_last4": 0, "name": "CA", "color": "rgba(119, 152, 191, .5)", "state": "California", "y": 33.399999999999999, "x": 44.399999999999999, "z": 87.0}, {"r_wins_last4": 1, "name": "CO", "color": "rgba(88, 24, 69, .5)", "state": "Colorado", "y": 41.600000000000001, "x": 73.900000000000006, "z": 104.0}, {"r_wins_last4": 0, "name": "CT", "color": "rgba(119, 152, 191, .5)", "state": "Connecticut", "y": 75.200000000000003, "x": 74.200000000000003, "z": 112.0}, {"r_wins_last4": 0, "name": "DE", "color": "rgba(119, 152, 191, .5)", "state": "Delaware", "y": 92.0, "x": 69.0, "z": 191.0}, {"r_wins_last4": 0, "name": "DC", "color": "rgba(119, 152, 191, .5)", "state": "District of Columbia", "y": 0.0, "x": 38.299999999999997, "z": 264.0}, {"r_wins_last4": 2, "name": "FL", "color": "rgba(88, 24, 69, .5)", "state": "Florida", "y": 64.200000000000003, "x": 61.200000000000003, "z": 86.0}, {"r_wins_last4": 4, "name": "GA", "color": "rgba(223, 83, 83, .5)", "state": "Georgia", "y": 82.299999999999997, "x": 59.0, "z": 98.0}, {"r_wins_last4": 0, "name": "HI", "color": "rgba(119, 152, 191, .5)", "state": "Hawaii", "y": 74.099999999999994, "x": 25.5, "z": 167.0}, {"r_wins_last4": 4, "name": "ID", "color": "rgba(223, 83, 83, .5)", "state": "Idaho", "y": 74.599999999999994, "x": 86.700000000000003, "z": 155.0}, {"r_wins_last4": 0, "name": "IL", "color": "rgba(119, 152, 191, .5)", "state": "Illinois", "y": 64.400000000000006, "x": 67.099999999999994, "z": 91.0}, {"r_wins_last4": 3, "name": "IN", "color": "rgba(88, 24, 69, .5)", "state": "Indiana", "y": 71.0, "x": 84.0, "z": 100.0}, {"r_wins_last4": 2, "name": "IA", "color": "rgba(88, 24, 69, .5)", "state": "Iowa", "y": 75.900000000000006, "x": 90.900000000000006, "z": 114.0}, {"r_wins_last4": 4, "name": "KS", "color": "rgba(223, 83, 83, .5)", "state": "Kansas", "y": 59.799999999999997, "x": 81.5, "z": 125.0}, {"r_wins_last4": 4, "name": "KY", "color": "rgba(223, 83, 83, .5)", "state": "Kentucky", "y": 78.599999999999994, "x": 88.0, "z": 106.0}, {"r_wins_last4": 4, "name": "LA", "color": "rgba(223, 83, 83, .5)", "state": "Louisiana", "y": 71.299999999999997, "x": 62.899999999999999, "z": 103.0}, {"r_wins_last4": 0, "name": "ME", "color": "rgba(119, 152, 191, .5)", "state": "Maine", "y": 95.0, "x": 95.599999999999994, "z": 167.0}, {"r_wins_last4": 0, "name": "MD", "color": "rgba(119, 152, 191, .5)", "state": "Maryland", "y": 77.299999999999997, "x": 57.200000000000003, "z": 100.0}, {"r_wins_last4": 0, "name": "MA", "color": "rgba(119, 152, 191, .5)", "state": "Massachusetts", "y": 69.200000000000003, "x": 78.599999999999994, "z": 95.0}, {"r_wins_last4": 1, "name": "MI", "color": "rgba(88, 24, 69, .5)", "state": "Michigan", "y": 77.700000000000003, "x": 79.099999999999994, "z": 94.0}, {"r_wins_last4": 0, "name": "MN", "color": "rgba(119, 152, 191, .5)", "state": "Minnesota", "y": 73.200000000000003, "x": 86.099999999999994, "z": 110.0}, {"r_wins_last4": 4, "name": "MS", "color": "rgba(223, 83, 83, .5)", "state": "Mississippi", "y": 91.799999999999997, "x": 61.0, "z": 120.0}, {"r_wins_last4": 4, "name": "MO", "color": "rgba(223, 83, 83, .5)", "state": "Missouri", "y": 74.599999999999994, "x": 83.0, "z": 97.0}, {"r_wins_last4": 4, "name": "MT", "color": "rgba(223, 83, 83, .5)", "state": "Montana", "y": 81.700000000000003, "x": 90.0, "z": 173.0}, {"r_wins_last4": 4, "name": "NE", "color": "rgba(223, 83, 83, .5)", "state": "Nebraska", "y": 60.5, "x": 85.400000000000006, "z": 161.0}, {"r_wins_last4": 1, "name": "NV", "color": "rgba(88, 24, 69, .5)", "state": "Nevada", "y": 17.0, "x": 58.899999999999999, "z": 130.0}, {"r_wins_last4": 0, "name": "NH", "color": "rgba(119, 152, 191, .5)", "state": "New Hampshire", "y": 84.900000000000006, "x": 93.599999999999994, "z": 171.0}, {"r_wins_last4": 0, "name": "NJ", "color": "rgba(119, 152, 191, .5)", "state": "New Jersey", "y": 83.700000000000003, "x": 61.700000000000003, "z": 92.0}, {"r_wins_last4": 1, "name": "NM", "color": "rgba(88, 24, 69, .5)", "state": "New Mexico", "y": 59.299999999999997, "x": 45.299999999999997, "z": 143.0}, {"r_wins_last4": 0, "name": "NY", "color": "rgba(119, 152, 191, .5)", "state": "New York", "y": 49.299999999999997, "x": 60.399999999999999, "z": 85.0}, {"r_wins_last4": 3, "name": "NC", "color": "rgba(88, 24, 69, .5)", "state": "North Carolina", "y": 67.900000000000006, "x": 68.400000000000006, "z": 91.0}, {"r_wins_last4": 4, "name": "ND", "color": "rgba(223, 83, 83, .5)", "state": "North Dakota", "y": 71.799999999999997, "x": 91.0, "z": 253.0}, {"r_wins_last4": 2, "name": "OH", "color": "rgba(88, 24, 69, .5)", "state": "Ohio", "y": 78.900000000000006, "x": 83.200000000000003, "z": 90.0}, {"r_wins_last4": 4, "name": "OK", "color": "rgba(223, 83, 83, .5)", "state": "Oklahoma", "y": 61.399999999999999, "x": 72.799999999999997, "z": 109.0}, {"r_wins_last4": 0, "name": "OR", "color": "rgba(119, 152, 191, .5)", "state": "Oregon", "y": 62.5, "x": 82.099999999999994, "z": 104.0}, {"r_wins_last4": 1, "name": "PA", "color": "rgba(88, 24, 69, .5)", "state": "Pennsylvania", "y": 81.700000000000003, "x": 81.799999999999997, "z": 89.0}, {"r_wins_last4": 0, "name": "RI", "color": "rgba(119, 152, 191, .5)", "state": "Rhode Island", "y": 60.700000000000003, "x": 79.799999999999997, "z": 213.0}, {"r_wins_last4": 4, "name": "SC", "color": "rgba(223, 83, 83, .5)", "state": "South Carolina", "y": 88.5, "x": 66.700000000000003, "z": 112.0}, {"r_wins_last4": 4, "name": "SD", "color": "rgba(223, 83, 83, .5)", "state": "South Dakota", "y": 69.900000000000006, "x": 87.799999999999997, "z": 217.0}, {"r_wins_last4": 4, "name": "TN", "color": "rgba(223, 83, 83, .5)", "state": "Tennessee", "y": 66.099999999999994, "x": 78.099999999999994, "z": 100.0}, {"r_wins_last4": 4, "name": "TX", "color": "rgba(223, 83, 83, .5)", "state": "Texas", "y": 43.100000000000001, "x": 49.600000000000001, "z": 92.0}, {"r_wins_last4": 4, "name": "UT", "color": "rgba(223, 83, 83, .5)", "state": "Utah", "y": 62.0, "x": 82.599999999999994, "z": 140.0}, {"r_wins_last4": 0, "name": "VT", "color": "rgba(119, 152, 191, .5)", "state": "Vermont", "y": 100.0, "x": 95.200000000000003, "z": 267.0}, {"r_wins_last4": 1, "name": "VA", "color": "rgba(88, 24, 69, .5)", "state": "Virginia", "y": 70.5, "x": 67.200000000000003, "z": 93.0}, {"r_wins_last4": 0, "name": "WA", "color": "rgba(119, 152, 191, .5)", "state": "Washington", "y": 62.799999999999997, "x": 76.099999999999994, "z": 103.0}, {"r_wins_last4": 4, "name": "WV", "color": "rgba(223, 83, 83, .5)", "state": "West Virginia", "y": 100.0, "x": 93.900000000000006, "z": 151.0}, {"r_wins_last4": 1, "name": "WI", "color": "rgba(88, 24, 69, .5)", "state": "Wisconsin", "y": 75.200000000000003, "x": 86.299999999999997, "z": 101.0}, {"r_wins_last4": 4, "name": "WY", "color": "rgba(223, 83, 83, .5)", "state": "Wyoming", "y": 100.0, "x": 87.900000000000006, "z": 309.0}], "dataLabels": {"enabled": true, "format": "{point.name}"}}];
	option.series = data;

	var chart = new Highcharts.Chart(option);

});
